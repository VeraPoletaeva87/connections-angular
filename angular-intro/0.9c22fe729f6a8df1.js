"use strict";(self.webpackChunkangularIntro=self.webpackChunkangularIntro||[]).push([[0],{1e3:(M,g,s)=>{s.r(g),s.d(g,{AuthModule:()=>U});var o=s(95),n=s(9468),v=s(2571),_=s(485),d=s(5509),p=s(6814),w=s(3905),Z=s(5412);function T(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Please enter a first name"),n.qZA())}function C(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"The first name is too long"),n.qZA())}function b(t,i){if(1&t&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&t){const l=n.oxw(2);n.xp6(1),n.hij(" ",null==l.name||null==l.name.errors?null:l.name.errors.firstName," ")}}function P(t,i){if(1&t&&(n.TgZ(0,"div",11),n.YNc(1,T,2,0,"div",12),n.YNc(2,C,2,0,"div",12),n.YNc(3,b,2,1,"div",5),n.qZA()),2&t){const l=n.oxw();n.xp6(1),n.Q6J("ngIf",null==l.name||null==l.name.errors?null:l.name.errors.required),n.xp6(1),n.Q6J("ngIf",null==l.name||null==l.name.errors?null:l.name.errors.maxlength),n.xp6(1),n.Q6J("ngIf",null==l.name||null==l.name.errors?null:l.name.errors.firstName)}}function A(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Please enter a email"),n.qZA())}function N(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"The email is invalid"),n.qZA())}function x(t,i){if(1&t&&(n.TgZ(0,"div",11),n.YNc(1,A,2,0,"div",12),n.YNc(2,N,2,0,"div",12),n.qZA()),2&t){const l=n.oxw();n.xp6(1),n.Q6J("ngIf",null==l.login||null==l.login.errors?null:l.login.errors.required),n.xp6(1),n.Q6J("ngIf",null==l.login||null==l.login.errors?null:l.login.errors.email)}}function I(t,i){1&t&&(n.TgZ(0,"div"),n._uU(1,"Please enter a password"),n.qZA())}function J(t,i){if(1&t&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&t){const l=n.oxw(2);n.xp6(1),n.hij(" Your password isn't strong enough. ",null==l.password||null==l.password.errors?null:l.password.errors.passwordStrength," ")}}function y(t,i){if(1&t&&(n.TgZ(0,"div",11),n.YNc(1,I,2,0,"div",12),n.YNc(2,J,2,1,"div",5),n.qZA()),2&t){const l=n.oxw();n.xp6(1),n.Q6J("ngIf",null==l.password||null==l.password.errors?null:l.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==l.password||null==l.password.errors?null:l.password.errors.passwordStrength)}}let m=(()=>{class t{constructor(l,r,e,a){this.httpService=l,this.toastService=r,this.router=e,this.formBuilder=a,this.submitDisabled=!1,this.loginForm=this.formBuilder.group({name:new o.NI("",[o.kI.required,o.kI.maxLength(40),t=>{const i=t.value;return i?/^[a-zA-Z\s]+$/.test(i)?null:{firstName:"First name can include only letters or spaces."}:null}]),login:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.minLength(8),t=>{const i=t.value;if(!i)return null;const l=i.length>=8,r=/[A-Z]+/.test(i),e=/[a-z]+/.test(i),a=/[0-9]+/.test(i),c=/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(i);let u="It must have ";return l||(u+="at least 8 characters, "),(!r||!e)&&(u+="a mixture of both uppercase and lowercase letters, "),a||(u+="a mixture of letters and numbers, "),c||(u+="include of at least one special character, e.g., ! @ # ? ]"),l&&r&&e&&a&&c?null:{passwordStrength:u}}])})}get name(){return this.loginForm.get("name")}get login(){return this.loginForm.get("login")}get password(){return this.loginForm.get("password")}inputChangeHandler(){this.submitDisabled=this.loginForm.invalid}loginHandler(){if(this.loginForm.invalid)this.loginForm.markAllAsTouched();else{const l={email:this.loginForm.controls.login.value,name:this.loginForm.controls.name.value,password:this.loginForm.controls.password.value};this.submitDisabled=!0,this.httpService.simpleRequest("https://tasks.app.rs.school/angular/registration",{method:"POST",data:l}).then(()=>{this.toastService.showMessage("success","User is successfuly registered!"),this.submitDisabled=!1,setTimeout(()=>{this.router.navigate(["/signin"])},3e3)}).catch(r=>{this.toastService.showMessage("error",r)})}}static#n=this.\u0275fac=function(r){return new(r||t)(n.Y36(v.e),n.Y36(_.k),n.Y36(d.F0),n.Y36(o.j3))};static#e=this.\u0275cmp=n.Xpm({type:t,selectors:[["app-register-page"]],decls:19,vars:14,consts:[[1,"login-block"],[1,"bold-text"],[3,"formGroup","ngSubmit"],["for","name",1,"small-text"],["type","text","formControlName","name","maxlength","","required","",3,"input"],["class","invalid",4,"ngIf"],["for","login",1,"small-text"],["type","text","formControlName","login","required","","email","",3,"input"],["for","password",1,"small-text"],["type","password","name","password","required","","formControlName","password",3,"input"],[1,"login-button",3,"disabled","click"],[1,"invalid"],[4,"ngIf"]],template:function(r,e){1&r&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2,"Login"),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return e.loginHandler()}),n.TgZ(4,"label",3),n._uU(5,"first name "),n.qZA(),n.TgZ(6,"input",4),n.NdJ("input",function(){return e.inputChangeHandler()}),n.qZA(),n.YNc(7,P,4,3,"div",5),n.TgZ(8,"label",6),n._uU(9,"email "),n.qZA(),n.TgZ(10,"input",7),n.NdJ("input",function(){return e.inputChangeHandler()}),n.qZA(),n.YNc(11,x,3,2,"div",5),n.TgZ(12,"label",8),n._uU(13,"password "),n.qZA(),n.TgZ(14,"input",9),n.NdJ("input",function(){return e.inputChangeHandler()}),n.qZA(),n.YNc(15,y,3,2,"div",5),n.TgZ(16,"app-button",10),n.NdJ("click",function(){return e.loginHandler()}),n._uU(17,"Register"),n.qZA()(),n._UZ(18,"app-toast"),n.qZA()),2&r&&(n.xp6(3),n.Q6J("formGroup",e.loginForm),n.xp6(3),n.Gre("input ",null!=e.name&&e.name.invalid&&(null!=e.name&&e.name.dirty||null!=e.name&&e.name.touched)?"red-border":"",""),n.xp6(1),n.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched))),n.xp6(3),n.Gre("input ",null!=e.login&&e.login.invalid&&(null!=e.login&&e.login.dirty||null!=e.login&&e.login.touched)?"red-border":"",""),n.xp6(1),n.Q6J("ngIf",(null==e.login?null:e.login.invalid)&&((null==e.login?null:e.login.dirty)||(null==e.login?null:e.login.touched))),n.xp6(3),n.Gre("input ",null!=e.password&&e.password.invalid&&(null!=e.password&&e.password.dirty||null!=e.password&&e.password.touched)?"red-border":"",""),n.xp6(1),n.Q6J("ngIf",(null==e.password?null:e.password.invalid)&&((null==e.password?null:e.password.dirty)||(null==e.password?null:e.password.touched))),n.xp6(1),n.Q6J("disabled",e.submitDisabled))},dependencies:[p.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.nD,o.on,o.sg,o.u,w.r,Z.q],styles:[".login-block[_ngcontent-%COMP%]{width:330px;height:235px;background-color:#e5e1e1;padding:15px;margin-left:34%;margin-top:40px;border-radius:8px}.bold-text[_ngcontent-%COMP%]{font-size:20px;font-family:system-ui;font-weight:700;padding-bottom:8px}.small-text[_ngcontent-%COMP%]{font-size:12px;color:#5e5b5b;padding:4px}.input[_ngcontent-%COMP%]{width:330px;height:30px;border:none;background-color:#bbb6b6}.login-button[_ngcontent-%COMP%]{position:relative;top:20px;left:250px}.red-border[_ngcontent-%COMP%]{border:1px solid red}.flex[_ngcontent-%COMP%]{display:flex}.margin[_ngcontent-%COMP%]{margin-right:8px}"]})}return t})();var R=s(1247);const q=[{path:"",component:m}];let F=(()=>{class t{static#n=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=n.oAB({type:t});static#t=this.\u0275inj=n.cJS({imports:[d.Bz.forChild(q),d.Bz]})}return t})();var S=s(416);let U=(()=>{class t{static#n=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275mod=n.oAB({type:t});static#t=this.\u0275inj=n.cJS({imports:[p.ez,o.UX,R.Z,S.Z,F]})}return t})()}}]);